## XPath 문법 기초: 웹 데이터 추출의 핵심2

이전 글에서는 XPath의 기본적인 문법과 웹 데이터 추출에서의 중요성에 대해 알아보았다. 이번 글에서는 좀 더 고급 XPath 문법과 기법에 대해 알아보자.

## 위치 기반 선택

1. **인덱스 사용**: 대괄호 안에 숫자를 사용하여 특정 위치의 노드를 선택할 수 있다.
    
    - 예: `//p[1]`는 첫 번째 `<p>` 태그를 선택한다.
2. **last() 함수**: 마지막 노드를 선택하려면 `last()` 함수를 사용한다.
    
    - 예: `//p[last()]`는 마지막 `<p>` 태그를 선택한다.
3. **position() 함수**: 노드의 위치를 기반으로 선택하려면 `position()` 함수를 사용한다.
    
    - 예: `//p[position() < 3]`는 처음 두 개의 `<p>` 태그를 선택한다.

## 문자열 함수

1. **substring() 함수**: 문자열의 일부분을 추출한다.
    
    - 예: `//p[substring(text(), 1, 5) = 'XPath']`는 텍스트가 'XPath'로 시작하는 `<p>` 태그를 선택한다.
2. **string-length() 함수**: 문자열의 길이를 반환한다.
    
    - 예: `//p[string-length(text()) > 100]`는 텍스트 길이가 100자 이상인 `<p>` 태그를 선택한다.

## 논리 연산자

1. **and 연산자**: 두 조건 모두 참일 때 노드를 선택한다.
    
    - 예: `//p[@class='intro' and @align='center']`는 class 속성 값이 'intro'이고 align 속성 값이 'center'인 `<p>` 태그를 선택한다.
2. **or 연산자**: 두 조건 중 하나 이상이 참일 때 노드를 선택한다.
    
    - 예: `//p[@class='intro' or @align='center']`는 class 속성 값이 'intro'이거나 align 속성 값이 'center'인 `<p>` 태그를 선택한다.
3. **not() 함수**: 조건이 거짓일 때 노드를 선택한다.
    
    - 예: `//p[not(@class='intro')]`는 class 속성 값이 'intro'가 아닌 `<p>` 태그를 선택한다.

## 네임스페이스 관리

XML 문서에 네임스페이스가 있을 경우, 해당 네임스페이스를 사용하여 노드를 선택할 수 있다. `namespace-uri()` 함수를 사용하여 특정 네임스페이스의 노드만 선택할 수 있다.

- 예: `//p[namespace-uri()='http://example.com/']`는 '[http://example.com/](http://example.com/)' 네임스페이스에 속하는 `<p>` 태그를 선택한다.