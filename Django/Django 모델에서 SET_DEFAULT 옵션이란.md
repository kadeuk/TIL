#### `on_delete=models.SET_DEFAUAT`는 객체가 삭제될때 삭제되는 객체에 연결된 다른 객체를 어떻게 처리할 것인지를 정의한다.
- 예를 들어, 웹사이트에는 하나의 글이 존재해야한다고 했을때. 1번글을 사용자가 방문한 기본글 이라고 하자
- 2번글에는 댓글이 1번댓글과 2번 댓글이 존재한다.
- 사용자는 2번글을 삭제하려고 한다. 
- 그때 `on_delete=models.SET_DEFAUAT` 옵션을 사용하면 2번글을 삭제할때
- 2번글에 속해있던 1번댓글과 2번 댓글이 1번글로 이동한다.
- 이 옵션을 사용할 때는 기본값으로 설정할 객체가 항상 존재할 수 있도록 관리해야한다.

#### `on_delete=models.SET_DEFAUAT` 옵션을 사용하는 이유
1. 데이터의 무결성 유지: 1번글이 삭제되었을 때 댓글들이 참조할 대상이 사라져버리면 데이터의 무결성이 깨질 수 있다. 이때 글이 삭제되어도 댓글들이 기본값으로 설정된 다른 글을 참조하도록 만들어 데이터의 무결성을 유지할 수 있다.
2. 연결된 데이터의 유실 방지: 제텔카스텐처럼 한 메모를 참조하는 다른 메모들이 많다고 할 때. 삭제된 데이터와 연결된 다른 데이터들이 여전히 중요한 정보를 가지고 있을 수 있기 때문에, 이를 유실하지 않고 다른 데이터로의 참조를 변경하여 보관할 수 있다.

---
#django #python [[데이터의 무결성]] 